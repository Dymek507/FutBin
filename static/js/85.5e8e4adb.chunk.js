"use strict";(self.webpackChunkfutdraft=self.webpackChunkfutdraft||[]).push([[85],{9127:function(e,n,r){var t=r(1889),a=r(2791),i=r(184),o=(0,a.lazy)((function(){return r.e(819).then(r.bind(r,8819))}));n.Z=function(e){var n=e.playersArray,r=e.pickPlayer,a=e.pickedPlayers,l=e.cardSize,s=void 0===l?"12px":l,c=e.xxs,u=void 0===c?12:c,d=e.xs,p=void 0===d?6:d,f=e.sm,g=void 0===f?4:f,v=e.md,y=void 0===v?3:v,m=e.lg,x=void 0===m?2:m,b=e.xl,h=void 0===b?1.5:b;return(0,i.jsx)("div",{className:"mt-8",children:n&&(0,i.jsx)(t.ZP,{sx:{p:"1rem",width:"94vw"},container:!0,alignItems:"flex-start",rowSpacing:1,children:null===n||void 0===n?void 0:n.map((function(e){return(0,i.jsx)(t.ZP,{sx:{display:"flex",justifyContent:"center"},item:!0,xxs:u,xs:p,sm:g,md:y,lg:x,xl:h,children:(0,i.jsx)(o,{playerData:e,sendPlayer:r,fontSize:s,pickedArray:a})},e.id)}))})})}},5327:function(e,n,r){r.d(n,{Y:function(){return p}});var t=r(9439),a=r(8518),i=r(2791),o=r(4887),l=r(3263),s={responseType:"blob",headers:{Accept:"image/png","X-Auth-Token":"9317d346-9be7-4023-8872-0114c73d26a6"}},c=function(e){return l.Z.get(e,s).then((function(e){return e.data}))},u=function(e){var n=(0,i.useState)(""),r=(0,t.Z)(n,2),a=r[0],l=r[1],s=(0,i.useState)(!0),u=(0,t.Z)(s,2),d=u[0],p=u[1],f=(0,o.ZP)(d?"https://futdb.app/api/".concat(e):null,c,{suspense:!0}),g=f.data,v=f.error,y=f.isLoading;return(0,i.useEffect)((function(){if(g){var e=URL.createObjectURL(g);l(e),p(!1)}}),[g]),(0,i.useEffect)((function(){p(!0)}),[e]),{image:a,error:v,isLoading:y}},d=!0,p=function(e,n,r){var o=(0,i.useState)(!1),l=(0,t.Z)(o,2),s=(l[0],l[1]),c=(0,a.Ds)().enqueueSnackbar,p=u("players/".concat(e,"/image")),f=p.image,g=p.error,v=p.isLoading,y=u("nations/".concat(r,"/image")),m=y.image,x=y.error,b=y.isLoading,h=u("clubs/".concat(n,"/image")),k=h.image,w=h.error,j=h.isLoading;return(0,i.useEffect)((function(){j&&b&&v&&d&&(d=!1,console.log("Fetching Players"),c("Fetching Players",{variant:"info"})),j||b||v||s(!0)}),[j,b,v,c]),(0,i.useEffect)((function(){(w||x||g)&&c("B\u0142\u0105d pobierania danych",{variant:"error"})}),[w,x,g,c]),{playerPhoto:f,playerNation:m,playerClub:k}}},2152:function(e,n,r){r.r(n),r.d(n,{default:function(){return b},formation1:function(){return x}});var t=r(9439),a=r(2791),i=r(7482),o=r(1491),l=r(5326),s=r(9127),c=r(184),u=function(e){var n=e.open,r=e.onClose,t=e.avaiablePlayer,o=e.addOnPositionHandler,u=e.currentPosition;return(0,c.jsx)(l.Z,{open:n,onClose:r,sx:{display:"flex",justifyContent:"center",overflowY:"scroll",overflowX:"hidden"},children:(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)("div",{className:"w-screen",children:(0,c.jsx)(i.Z,{})}),children:(0,c.jsx)("div",{className:"bg-primary-main h-min my-8 mx-8",children:(0,c.jsx)(s.Z,{playersArray:t,pickPlayer:function(e){o(u,e.id)},cardSize:"10px"})})})})},d=r(1413),p=r(5327),f=r(4775),g=function(e){var n=e.playerData,r=e.sendPlayer,i=void 0===r?function(){}:r,o=e.fontSize,l=e.pickedArray,s=void 0===l?[]:l,u=(e.cardLoaded,(0,a.useState)(!1)),g=(0,t.Z)(u,2),v=g[0],y=g[1];(0,a.useEffect)((function(){var e=s.filter((function(e){return e.id===n.id})).length>0;y(e)}),[s,n]);var m=(0,p.Y)(n.id,n.club,n.nation),x=m.playerPhoto,b=m.playerClub,h=m.playerNation,k=(0,a.useMemo)((function(){return(0,f.Z)(n,"card")}),[n]),w=k.cardBackground,j=k.commonName,C=k.rating,Z=k.position,S=k.playerPrice;return(0,c.jsxs)("div",{onClick:function(){i((0,d.Z)((0,d.Z)({},n),{},{playerPrice:S}))},className:"relative w-[15em] h-[20em] bg-[length:19em_22em] bg-center bg-no-repeat text-black cursor-pointer",style:{fontSize:o,filter:"".concat(v?"drop-shadow(0px 0px 30px #C7BA30)":""),backgroundImage:"url('".concat(w,"')")},children:[(0,c.jsxs)("div",{className:"absolute top-[1.2em] left-[1.6em] flex-center flex-col font-semibold ",children:[(0,c.jsx)("div",{className:"text-[4em] leading-none",children:C}),(0,c.jsx)("div",{className:"text-[2.8em] leading-none",children:Z})]}),(0,c.jsx)("div",{children:(0,c.jsx)("img",{className:"absolute bottom-[3.2em] left-[2em] w-[4.5em] ",src:h,alt:"NationFlag"})}),(0,c.jsx)("div",{children:(0,c.jsx)("img",{className:"absolute bottom-[2.8em] right-[2em] w-[3.5em] ",src:b,alt:"ClubLogo"})}),(0,c.jsx)("div",{children:(0,c.jsx)("img",{className:"absolute top-[1.5em] right-[0.2em] w-[9em]",src:x,alt:"Player_photo"})}),(0,c.jsx)("div",{className:" absolute bottom-[3em] left-[0.4em] w-[6em] font-din text-[2.2em] font-thin truncate uppercase text-center  tracking-wide border-b border-black",children:j})]})},v=r.p+"static/media/blank-card-micro.d0e4cfe4c692d2556f1d.png",y=function(e){var n=e.nr,r=(e.pos,e.x),i=e.y,l=e.playerId,s=e.openModal,u=(0,a.useState)(null),d=(0,t.Z)(u,2),p=d[0],f=d[1],y=(0,o.C)((function(e){return e.players.myPlayers}));return(0,a.useEffect)((function(){var e=y.filter((function(e){return e.id===l}));1===e.length&&f(e[0])}),[l,y]),(0,c.jsx)("div",{onClick:function(){return s(n)},className:"absolute flex-center w-[4.5em] origin-center translate-x-[-50%] cursor-pointer",style:{bottom:"".concat(r,"%"),left:"".concat(i,"%")},children:p?(0,c.jsx)(g,{playerData:p,fontSize:"0.3em"}):(0,c.jsx)("img",{className:"w-[4.5em]",src:v,alt:"blank_slot"})},n)},m=r(2890),x=[{nr:1,pos:"GK",x:0,y:50,playerId:null},{nr:2,pos:"RB",x:20,y:90,playerId:null},{nr:3,pos:"LB",x:20,y:10,playerId:null},{nr:4,pos:"CB",x:30,y:40,playerId:null},{nr:5,pos:"CB",x:30,y:60,playerId:null},{nr:6,pos:"CM",x:40,y:30,playerId:null},{nr:7,pos:"RM",x:70,y:80,playerId:null},{nr:8,pos:"CM",x:40,y:70,playerId:null},{nr:9,pos:"ST",x:75,y:50,playerId:null},{nr:10,pos:"CAM",x:55,y:50,playerId:null},{nr:11,pos:"LM",x:70,y:20,playerId:null}],b=function(){var e=(0,a.useState)(!1),n=(0,t.Z)(e,2),r=n[0],l=n[1],s=(0,a.useState)(1),d=(0,t.Z)(s,2),p=d[0],f=d[1],g=(0,a.useState)(null),v=(0,t.Z)(g,2),x=v[0],b=v[1],h=(0,o.C)((function(e){return e.players.mySquad})),k=(0,o.C)((function(e){return e.players.myPlayers})),w=(0,o.C)((function(e){return e.ui.userData.uId})),j=(0,o.T)();(0,a.useEffect)((function(){j((0,m.GK)()),j((0,m.Gj)())}),[j,w]),(0,a.useEffect)((function(){var e=k.filter((function(e){return h.some((function(n){return n.playerId!==e.id}))}));b(e)}),[k,h]);var C=function(e){l(!0),f(e)};return(0,c.jsxs)("div",{className:"flex items-center justify-center w-full ",children:[r?(0,c.jsx)(u,{open:r,onClose:function(){return l(!1)},avaiablePlayer:x,addOnPositionHandler:function(e,n){j((0,m.kF)(e,n)),l(!1)},currentPosition:p}):null,(0,c.jsx)("div",{className:"relative h-full w-full sm:max-w-[1000px] bg-squad-field bg-center bg-cover bg-no-repeat text-[24px]",children:(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)("div",{className:"w-screen",children:(0,c.jsx)(i.Z,{})}),children:h.map((function(e){return(0,c.jsx)(y,{nr:e.nr,pos:e.pos,x:e.x,y:e.y,playerId:e.playerId,openModal:C},e.nr)}))})})]})}},2890:function(e,n,r){r.d(n,{GK:function(){return s},Gj:function(){return p},KL:function(){return c},WQ:function(){return u},kF:function(){return d}});var t=r(4165),a=r(5861),i=r(9692),o=r(3804),l=r(8742),s=function(){return function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a,s,c,u,d,p,f;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(s=null===(a=r().ui.userData)||void 0===a?void 0:a.uId)){e.next=13;break}return c=(0,i.JU)(l.db,"users/".concat(s)),e.prev=3,e.next=6,(0,i.QT)(c);case 6:void 0!==(u=e.sent).data()&&(f=null===(d=u.data())||void 0===d?void 0:d.playersData,0!==(null===(p=u.data())||void 0===p?void 0:p.playersData.length)&&n(o.g.replaceAllMyPlayers(f))),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(3),new Error("B\u0142\u0105d"+e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n,r){return e.apply(this,arguments)}}()},c=function(){return function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a,o,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r().ui.userData.uId,o=r().players.myPlayers,null===a){e.next=14;break}return s=(0,i.JU)(l.db,"users/".concat(a)),e.prev=4,e.next=7,(0,i.r7)(s,{playersData:o});case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(4),new Response(JSON.stringify({message:"Could not fetch players"}),{status:500});case 12:e.next=15;break;case 14:alert("Nie jeste\u015b zalogowany");case 15:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(n,r){return e.apply(this,arguments)}}()},u=function(e){return function(){var n=(0,a.Z)((0,t.Z)().mark((function n(r,a){var s,c,u;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(o.g.deleteFromMyPlayers(e)),s=a().ui.userData.uId,c=a().players.myPlayers,u=(0,i.JU)(l.db,"users/".concat(s)),n.prev=4,n.next=7,(0,i.r7)(u,{playersData:c});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(4),console.log("B\u0142\u0105d wysy\u0142ania ".concat(n.t0));case 12:case"end":return n.stop()}}),n,null,[[4,9]])})));return function(e,r){return n.apply(this,arguments)}}()},d=function(e,n){return function(){var r=(0,a.Z)((0,t.Z)().mark((function r(a,s){var c,u,d;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(o.g.updateMySquad({nr:e,playerId:n})),c=s().ui.userData.uId,u=s().players.mySquad,d=(0,i.JU)(l.db,"users/".concat(c)),r.prev=4,r.next=7,(0,i.r7)(d,{squadData:u});case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(4),console.log("B\u0142\u0105d wysy\u0142ania ".concat(r.t0));case 12:case"end":return r.stop()}}),r,null,[[4,9]])})));return function(e,n){return r.apply(this,arguments)}}()},p=function(){return function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a,s,c,u,d,p;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r().ui.userData.uId,s=(0,i.JU)(l.db,"users/".concat(a)),e.prev=2,e.next=5,(0,i.QT)(s);case 5:void 0!==(c=e.sent).data()&&(p=null===(u=c.data())||void 0===u?void 0:u.squadData,0!==(null===(d=c.data())||void 0===d?void 0:d.squadData.length)&&n(o.g.replaceMySquad(p))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("B\u0142\u0105d"+e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n,r){return e.apply(this,arguments)}}()}},265:function(e,n,r){r.d(n,{Z:function(){return a}});var t;!function(e){e.CB="CB",e.LB="LB",e.RB="RB",e.RWB="RWB",e.LWB="LWB",e.CDM="CDM",e.CM="CM",e.CAM="CAM",e.LM="LM",e.RM="RM",e.CF="CF",e.LW="LW",e.RW="RW",e.ST="ST",e.RF="RF",e.LF="LF",e.GK="GK"}(t||(t={}));var a=function(e){var n=e.position,r=e.color,a=e.rarity,i=1e-7,o=100,l=(e.skillMoves+e.weakFoot)*5e3,s=e.totalStatsInGame*10,c=function(e){return e>90?81*Math.pow(e,7):e>80?27*Math.pow(e,7):e>70?9*Math.pow(e,7):e>60?3*Math.pow(e,7):Math.pow(e,7)}(e.rating)*i,u=function(e,n){var r=n.pace,a=n.defending,i=n.physicality,o=n.passing,l=n.dribbling,s=n.shooting,c=n.goalkeeperAttributes,u=n.goalkeeperAttributes;return u.diving,u.handling,u.kicking,u.positioning,u.reflexes,u.speed,e===t.CB||e===t.LB||e===t.RB||e===t.RWB||e===t.LWB?r+a+i||0:e===t.CDM||e===t.CM||e===t.CAM?o+l+s||0:e===t.LM||e===t.RM||e===t.CF?r+l+o||0:e===t.LW||e===t.RW||e===t.ST||e===t.RF||e===t.LF?s+l+r||0:e===t.GK&&c&&(c.diving+c.handling+c.kicking+c.positioning+c.reflexes+c.speed)/2||0}(n,e)*o,d=function(e,n){return(n+1)*function(e){switch(e){case"bronze":default:return 1;case"silver":return 64;case"gold":return 512}}(e)}(r,a),p=Math.floor((l+s+c+u+d)/1e4),f=function(e){return e>999999?(e/1e5).toFixed(0)+"m":e>999?(e/1e3).toFixed(1)+"k":e.toString()}(p);return{playerPrice:p,displayPrice:f}}},4775:function(e,n,r){r.d(n,{Z:function(){return u}});var t=r(265),a=r.p+"static/media/0_bronze.69bfcd3e0f1181ae9efc.png",i=r.p+"static/media/1_bronze.241d5d376409acdb661d.png",o=r.p+"static/media/0_silver.98e376900fead9c18bd4.png",l=r.p+"static/media/1_silver.79deb2886da09adc18f0.png",s=r.p+"static/media/0_gold.e91c64e337137e463b74.png",c=r.p+"static/media/1_gold.1064e61cc7d71015cf13.png",u=function(e,n){var r,u=e.commonName,d=void 0===u?"????":u,p=e.position,f=void 0===p?"??":p,g=e.rating,v=void 0===g?"??":g,y=null!==(r=function(e){var n,r,t,a,i,o,l=e.goalkeeperAttributes,s=l.diving,c=l.handling,u=l.kicking,d=l.positioning,p=l.reflexes,f=l.speed;return"GK"===e.position?{defending:null!==(n=null===f||void 0===f?void 0:f.toString())&&void 0!==n?n:"0",pace:null!==(r=null===s||void 0===s?void 0:s.toString())&&void 0!==r?r:"0",dribbling:null!==(t=null===p||void 0===p?void 0:p.toString())&&void 0!==t?t:"0",shooting:null!==(a=null===c||void 0===c?void 0:c.toString())&&void 0!==a?a:"0",passing:null!==(i=null===u||void 0===u?void 0:u.toString())&&void 0!==i?i:"0",physicality:null!==(o=null===d||void 0===d?void 0:d.toString())&&void 0!==o?o:"0"}:void 0}(e))&&void 0!==r?r:e,m=y.defending,x=void 0===m?"??":m,b=y.dribbling,h=void 0===b?"??":b,k=y.shooting,w=void 0===k?"??":k,j=y.pace,C=void 0===j?"??":j,Z=y.passing,S=void 0===Z?"??":Z,M=y.physicality,P=void 0===M?"??":M,B=function(e,n,r){return{card:{0:{bronze:a,silver:o,gold:s},1:{bronze:i,silver:l,gold:c}},line:{0:{bronze:"linear-gradient(90deg, rgba(79,38,1,1) 0%, rgba(101,49,0,1) 39%, rgba(130,63,0,1) 100%)",silver:"linear-gradient(90deg, rgba(80,80,80,1) 0%, rgba(96,96,96,1) 39%, rgba(112,112,112,1) 100%)",gold:"linear-gradient(90deg, rgba(171,154,0,1) 0%, rgba(185,167,0,1) 39%, rgba(204,183,0,1) 100%)"},1:{bronze:"linear-gradient(90deg, rgba(79,38,1,1) 0%, rgba(101,49,0,1) 39%, rgba(130,63,0,1) 100%)",silver:"linear-gradient(90deg, rgba(80,80,80,1) 0%, rgba(96,96,96,1) 39%, rgba(112,112,112,1) 100%)",gold:"linear-gradient(90deg, rgba(171,154,0,1) 0%, rgba(185,167,0,1) 39%, rgba(204,183,0,1) 100%)"}}}[r][e][n]}(e.rarity,e.color,n),L=(0,t.Z)(e);return{cardBackground:B,commonName:d,rating:v,position:f,defending:x,pace:C,dribbling:h,shooting:w,passing:S,physicality:P,playerPrice:L.playerPrice,displayPrice:L.displayPrice}}}}]);
//# sourceMappingURL=85.5e8e4adb.chunk.js.map